(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(15),s=n.n(c),a=n(3),i=n(4),o=n.n(i),u=n(0),l=function(e){return Object(u.jsxs)("div",{children:["find: ",Object(u.jsx)("input",{type:"text","aria-label":"filter",value:e.newSearchTerm,onChange:function(t){e.setNewSearchTerm(t.target.value)}})]})},j=function(e){var t=e.person,n=e.deletePerson;return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{children:[t.name," ",t.number," ",Object(u.jsx)("button",{onClick:n,children:"delete"})]})})},b="/api/persons",d=function(){return o.a.get(b)},h=function(e){return o.a.post(b,e)},f=function(e,t){return o.a.put("".concat(b,"/").concat(e),t)},O=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(a.a)(i,2),l=o[0],j=o[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:c,number:l},r=e.persons.find((function(e){return e.name===c}));""===c||""===l?alert("Error! Content missing. Please fill in all the fields"):r&&window.confirm(c+" is already added to phonebook, replace the old number with a new one?")?(f(r.id,n),e.setErrorMessage(r.name+"'s phone number has been changed"),setTimeout((function(){e.setErrorMessage(null)}),3e3),s(""),j("")):(h(n),e.setErrorMessage(c+" has been added to the server"),setTimeout((function(){e.setErrorMessage(null)}),3e3),s(""),j(""))},children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{type:"text","aria-label":"name",value:c,onChange:function(e){s(e.target.value)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("br",{})}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{type:"text","aria-label":"number",value:l,onChange:function(e){j(e.target.value)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})})},m=function(e){var t=e.message;return null===t?null:Object(u.jsx)("div",{className:"error",children:t})},p=(n(14),function(){var e=Object(r.useState)(),t=Object(a.a)(e,1)[0],n=Object(r.useState)(""),c=Object(a.a)(n,2),s=c[0],i=c[1],b=Object(r.useState)([]),h=Object(a.a)(b,2),f=h[0],p=h[1],x=Object(r.useState)(null),v=Object(a.a)(x,2),g=v[0],w=v[1];Object(r.useEffect)((function(){d().then((function(e){p(e.data)}))}),[]);var S=t?f:f.filter((function(e){return e.name.includes(s)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(m,{message:g}),Object(u.jsx)(l,{persons:f,newSearchTerm:s,setNewSearchTerm:i}),Object(u.jsx)("h3",{children:"Add a new"}),Object(u.jsx)(O,{persons:S,setErrorMessage:w}),Object(u.jsx)("h3",{children:"Numbers"}),Object(u.jsx)("ul",{children:S.map((function(e,t){return Object(u.jsx)(j,{person:e,deletePerson:function(){return function(e){var t="/api/persons/"+e,n=f.find((function(t){return t.id===e}));window.confirm("Delete "+n.name+"?")&&o.a.delete(t).catch((function(e){w(n.name+" has already been removed from the server"),setTimeout((function(){w(null)}),3e3)}))}(e.id)}},t)}))})]})});s.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.e101a26c.chunk.js.map