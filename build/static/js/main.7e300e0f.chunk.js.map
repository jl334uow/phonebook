{"version":3,"sources":["components/Filter.js","components/Persons.js","services/persons.js","components/PersonForm.js","components/Notification.js","components/App.js","index.js"],"names":["Filter","props","type","aria-label","value","newSearchTerm","onChange","event","setNewSearchTerm","target","Persons","person","deletePerson","name","number","onClick","baseUrl","axios","get","newObject","post","id","put","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","personObject","p","persons","find","alert","window","confirm","setErrorMessage","setTimeout","Notification","message","className","App","showAll","data","setData","errorMessage","useEffect","personService","then","response","peopleToShow","filter","includes","map","url","delete","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7e300e0f.chunk.js","sourcesContent":["\r\nconst Filter = (props) => {\r\n\r\n    const handleNewSearchTerm = (event) =>{\r\n        props.setNewSearchTerm(event.target.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            find: <input type = \"text\" aria-label = \"filter\" value = {props.newSearchTerm} onChange = {handleNewSearchTerm}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nconst Persons = ({person, deletePerson}) => {\r\n    return(\r\n    <div>\r\n      <ul>\r\n      \r\n        {person.name} {person.number} {<button onClick = {deletePerson}>delete</button>}\r\n      \r\n      </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update \r\n}","import React, {useState} from 'react'\r\nimport persons from '../services/persons'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const handleNewName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n    const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      //check if name already exists\r\n      const p = props.persons.find(person => person.name === newName)\r\n      //check if all fields are filled in\r\n      if(newName === '' || newNumber === ''){\r\n        alert('Error! Content missing. Please fill in all the fields.')\r\n      } else if(p && window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')){\r\n        \r\n        persons.update(p.id, personObject)\r\n        props.setErrorMessage(p.name +\"'s phone number has been changed\")\r\n        setTimeout(() => {\r\n          props.setErrorMessage(null)}\r\n        , 3000)\r\n        \r\n        setNewName('')\r\n        setNewNumber('')\r\n      }\r\n      else{\r\n        persons.create(personObject)\r\n        props.setErrorMessage(newName +' has been added to the server')\r\n        setTimeout(() => {\r\n          props.setErrorMessage(null)}\r\n        , 3000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n        \r\n      }\r\n    }\r\n  \r\n    return(\r\n      <div>\r\n        \r\n        <form onSubmit = {addPerson}>\r\n        <div>\r\n          name: <input type = \"text\" aria-label = \"name\" value = {newName} onChange = {handleNewName} />\r\n        </div>\r\n        <div><br/></div>\r\n        <div>\r\n          number: <input type = \"text\" aria-label = \"number\" value = {newNumber} onChange = {handleNewNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className = \"error\">\r\n        {message}\r\n      </div>\r\n      \r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport Filter from './Filter'\r\nimport Persons from './Persons'\r\nimport PersonForm from './PersonForm'\r\nimport Notification from './Notification'\r\nimport error from 'C:/Users/Justin/part3/phonebook/src/index.css'\r\nimport personService from 'C:/Users/Justin/part3/phonebook/src/services/persons'\r\nconst App = () => {\r\n\r\n  const [showAll] = useState()\r\n  const [ newSearchTerm, setNewSearchTerm ] = useState('')\r\n  const [data, setData] = useState([])\r\n  const [errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(response =>{\r\n      setData(response.data)\r\n    })\r\n  }, [])\r\n\r\n  const peopleToShow = showAll\r\n  ? data\r\n  : data.filter(person => person.name.includes(newSearchTerm))\r\n\r\n  const deletePerson = (id) => {\r\n    const url = '/api/persons/' + id\r\n    const person = data.find(p => p.id === id)\r\n\r\n    if(window.confirm('Delete ' + person.name + '?')){\r\n      axios.delete(url)\r\n      .catch(error => {\r\n        setErrorMessage(person.name + ' has already been removed from the server')\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 3000)\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage}/>\r\n      <Filter persons = {data} newSearchTerm = {newSearchTerm} setNewSearchTerm = {setNewSearchTerm}/>\r\n      <h3>Add a new</h3>\r\n      <PersonForm persons = {peopleToShow} setErrorMessage = {setErrorMessage}/>\r\n      \r\n      <h3>Numbers</h3>\r\n      <ul>  \r\n        {peopleToShow.map((person, id) =>\r\n        <Persons\r\n          key = {id}\r\n          person = {person}\r\n          deletePerson = {() => deletePerson(person.id)}/>)}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\nimport './index.css'\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}